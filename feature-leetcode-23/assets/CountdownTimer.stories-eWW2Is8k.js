import{r as s,j as d}from"./iframe-CDz-zyGV.js";import{s as l,B as g,T as C}from"./Box-CvPsPG6W.js";const h="data:image/svg+xml,%3c!--%20src/components/countdownTimer/assets/icons/alarm-clock.svg%20--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='100%25'%20height='100%25'%20viewBox='0%200%2044.7917%2046.3542'%20fill='none'%20%3e%3cpath%20d='M9.83025%202.78267C10.5041%202.24359%2010.6134%201.26032%2010.0743%200.586471C9.5352%20-0.0873753%208.55193%20-0.196627%207.87808%200.34245L2.66975%204.50912C1.9959%205.04819%201.88665%206.03146%202.42573%206.70531C2.9648%207.37916%203.94807%207.48841%204.62192%206.94933L9.83025%202.78267Z'%20fill='%23AE8CFA'%20/%3e%3cpath%20d='M36.9136%200.34245C36.2397%20-0.196627%2035.2565%20-0.0873753%2034.7174%200.586471C34.1783%201.26032%2034.2876%202.24359%2034.9614%202.78267L40.1697%206.94933C40.8436%207.48841%2041.8269%207.37916%2042.3659%206.70531C42.905%206.03146%2042.7958%205.04819%2042.1219%204.50912L36.9136%200.34245Z'%20fill='%23AE8CFA'%20/%3e%3cpath%20d='M23.9583%2015.6251C23.9583%2014.7621%2023.2588%2014.0626%2022.3958%2014.0626C21.5329%2014.0626%2020.8333%2014.7621%2020.8333%2015.6251V21.3031C20.8333%2022.4152%2020.8333%2023.3611%2020.9107%2024.1461C20.9931%2024.9824%2021.1719%2025.7575%2021.6009%2026.5007C22.03%2027.2438%2022.6119%2027.7862%2023.2949%2028.2757C23.9361%2028.7352%2024.7553%2029.2082%2025.7185%2029.7642L27.0274%2030.5199C27.7747%2030.9514%2028.7303%2030.6953%2029.1618%2029.948C29.5933%2029.2006%2029.3372%2028.245%2028.5899%2027.8135L27.3438%2027.0942C26.3007%2026.492%2025.6165%2026.0949%2025.1153%2025.7357C24.642%2025.3965%2024.4364%2025.1619%2024.3072%2024.9382C24.178%2024.7144%2024.0777%2024.4191%2024.0206%2023.8396C23.9601%2023.2259%2023.9583%2022.4348%2023.9583%2021.2304V15.6251Z'%20fill='%23AE8CFA'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M22.3958%201.56256C10.027%201.56256%200%2011.5895%200%2023.9584C0%2036.3273%2010.027%2046.3542%2022.3958%2046.3542C34.7647%2046.3542%2044.7917%2036.3273%2044.7917%2023.9584C44.7917%2011.5895%2034.7647%201.56256%2022.3958%201.56256ZM3.125%2023.9584C3.125%2013.3154%2011.7528%204.68756%2022.3958%204.68756C33.0388%204.68756%2041.6667%2013.3154%2041.6667%2023.9584C41.6667%2034.6014%2033.0388%2043.2292%2022.3958%2043.2292C11.7528%2043.2292%203.125%2034.6014%203.125%2023.9584Z'%20fill='%23AE8CFA'%20/%3e%3c/svg%3e",w=e=>{const t=Math.max(0,e),r=Math.floor(t/3600),o=Math.floor(t%3600/60),n=t%60;return[r.toString().padStart(2,"0"),o.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join(":")},x=({initialSeconds:e,onComplete:t})=>{if(typeof e!="number"||isNaN(e)||e<0)throw new Error("initialSeconds debe ser un nÃºmero positivo");const[r,o]=s.useState(()=>Math.max(0,e)),n=s.useRef(null),m=s.useRef(t);s.useEffect(()=>{m.current=t},[t]);const p=()=>{n.current&&(clearInterval(n.current),n.current=null)};return s.useEffect(()=>{if(e<=0){o(0);return}return o(e),p(),n.current=setInterval(()=>{o(u=>u<=1?(p(),m.current?.(),0):u-1)},1e3),()=>{p()}},[e]),{secondsRemaining:r,formattedTime:w(r)}},T=l(g)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",gap:e.spacing(2),backgroundColor:"transparent",padding:e.spacing(1),flexWrap:"nowrap"})),S=l(g)(({theme:e})=>({width:e.spacing(6.25),height:e.spacing(6.25),display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,color:"#AE8CFA","& img":{width:e.spacing(5.598875),height:e.spacing(5.793125),maxWidth:"100%",maxHeight:"100%","@media (max-width:600px)":{objectFit:"contain"}},[e.breakpoints.down("sm")]:{width:e.spacing(5),height:e.spacing(5)}})),y=l(C)(({theme:e})=>({fontFamily:"Syne, sans-serif",fontWeight:700,fontSize:"2.5rem",color:"#A9A9A9",textTransform:"capitalize",letterSpacing:"normal",lineHeight:e.spacing(6),textAlign:"left",width:e.spacing(24.125),height:e.spacing(6),whiteSpace:"nowrap",[e.breakpoints.down("sm")]:{fontSize:"2rem",width:"auto"}})),f=({seconds:e,onComplete:t})=>{const{formattedTime:r}=x({initialSeconds:e,onComplete:t});return d.jsxs(T,{"data-testid":"countdown-wrapper",children:[d.jsx(S,{"data-testid":"countdown-icon",children:d.jsx("img",{src:h,alt:"Temporizador",role:"img","aria-label":"Temporizador",width:"100%",height:"100%"})}),d.jsx(y,{"data-testid":"countdown-text",children:r})]})};f.__docgenInfo={description:"",methods:[],displayName:"CountdownTimer",props:{seconds:{required:!0,tsType:{name:"number"},description:""},onComplete:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const A={title:"Components/CountdownTimer",component:f,argTypes:{seconds:{control:"number"},onComplete:{action:"completed"}}},a={args:{seconds:1230}},i={args:{seconds:30}},c={args:{seconds:3600}};a.parameters={...a.parameters,docs:{...a.parameters?.docs,source:{originalSource:`{
  args: {
    seconds: 1230
  }
}`,...a.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`{
  args: {
    seconds: 30
  }
}`,...i.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {
    seconds: 3600
  }
}`,...c.parameters?.docs?.source}}};const v=["Default","ShortTimer","LongTimer"],E=Object.freeze(Object.defineProperty({__proto__:null,Default:a,LongTimer:c,ShortTimer:i,__namedExportsOrder:v,default:A},Symbol.toStringTag,{value:"Module"}));export{E as C,a as D};
