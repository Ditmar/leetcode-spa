---

# SectionNav

The `SectionNav` component renders a vertical navigation intended to separate sections of an assessment or test (for example: MCQ, Programming, Debugging). It is built on top of Material UI and uses the project's styling system to ensure visual consistency.

---

**Summary**: `SectionNav` displays a vertical list of sections and allows selecting one. It supports both controlled mode (via the `activeSectionId` prop) and uncontrolled mode (internal state). The root element and items expose basic ARIA attributes for accessibility.

---

**Typical usage**

```tsx
import React from 'react';
import { SectionNav } from './SectionNav';

const sections = [
  { id: 'mcq', label: 'MCQ' },
  { id: 'programming', label: 'Programming' },
  { id: 'review', label: 'Review' },
];

export default function Example() {
  const [active, setActive] = React.useState('mcq');
  return (
    <SectionNav
      sections={sections}
      title="Sections"
      activeSectionId={active}
      onSelect={(id) => setActive(id)}
      bottomSpacing={24}
    />
  );
}
```

---

**Main props**

- `sections`: Array of objects `{ id: string; label: string }` — Required. The list of sections to render.
- `activeSectionId` *(optional)*: `string` — Id of the currently active section. When provided the component works in controlled mode.
- `onSelect` *(optional)*: `(id: string) => void` — Callback fired when a section is selected.
- `title` *(optional)*: `string` — Title text rendered above the list.
- `bottomSpacing` *(optional)*: `string | number` — Adjusts the bottom padding of the `Root`. Numeric values are interpreted as pixels.
- `className` *(optional)*: `string` — Allows passing external CSS classes.
- Remaining props: forwarded to the root `Box` component (for example `sx`, `data-*`, etc.).

---

**Behavior and considerations**

- Controlled vs uncontrolled: If you pass `activeSectionId` the component follows that value; otherwise it manages its own internal state and updates selection on click.
- The root element is a `nav` with an `aria-label` (uses `title` when provided, otherwise defaults to `Navigation`).
- The selected item uses `aria-current=\"page\"` to improve screen reader navigation.
- Items are `ListItemButton` instances from MUI, so they inherit focus, hover and accessibility behavior from MUI.

---

**Styling and theme tokens**

- The component uses `SectionNav.styles.ts` and theme tokens (via `getSectionNavTokens`) for dimensions (width, item height), typography and colors. To adjust appearance, update the tokens in the theme helpers located in the style library.

---

**Additional examples**

- Long list (no internal scroll): If you need to render many sections, control the parent layout rather than forcing an internal scroll inside `SectionNav`.

```tsx
<SectionNav
  sections={Array.from({ length: 20 }, (_, i) => ({ id: `s${i+1}`, label: `Section ${i+1}` }))}
  title="Sections"
  onSelect={(id) => console.log(id)}
/>
```

---

**Storybook tips**

- In `SectionNav.stories.tsx` there is a decorator that updates `activeSectionId` when an item is selected. This helps to visualize interaction in stories.
- Use `argTypes` to expose `activeSectionId` and `bottomSpacing` in the controls panel.

---

**Accessibility (a11y)**

- `nav[aria-label]` describes the region; provide a descriptive `title` when relevant.
- `aria-current=\"page\"` identifies the active item to assistive technologies.
- Ensure sufficient color contrast for text; the theme tokens aim to meet minimum contrast requirements.

---

**Unit tests & validation**

- Unit tests for this component should verify:
  - Rendering of sections and title.
  - Controlled behavior when `activeSectionId` is provided.
  - `onSelect` is called with the correct id on click.
  - `aria-current` and `aria-label` attributes are present and correct.
  - Disabled or keyboard navigation behaviors if applicable.

---

**Files & implementation**

- `src/components/SectionNav/SectionNav.tsx` — implementation.
- `src/components/SectionNav/SectionNav.styles.ts` — styles and tokens.
- `src/components/SectionNav/SectionNav.types.ts` — TypeScript types.
- `src/components/SectionNav/SectionNav.stories.tsx` — Storybook stories.

---

This document is intended as the component reference. Visual or behavior changes must be implemented in the component files or in the theme tokens.
