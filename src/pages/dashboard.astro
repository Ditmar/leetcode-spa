---
import Layout from '../layouts/Layout.astro';
import SSRMuiProvider from '../style-library/SSRMuiProvider.tsx';
import { CountdownTimer } from '../components/CountdownTimer/CountdownTimer.tsx';
import Counter from '../ui/components/Counter.tsx';
---

<Layout title="Dashboard - Astro Lab">
  <main>
    <h1>Dashboard</h1>

    <!-- Header siempre visible -->
    <SSRMuiProvider client:load>
      <div style={{padding: 1rem; background: #f5f5f5;}}>
        <h2>Estado del Sistema</h2>
        <CountdownTimer seconds={300} />
      </div>
    </SSRMuiProvider>

    <!-- Sidebar que se carga cuando es necesario -->
    <div style={{display: flex;}}>
      <aside style={{width: 200px; padding: 1rem;}}>
        <Counter client:visible />
      </aside>

      <!-- Contenido principal -->
      <section style={{flex: 1; padding: 1rem;}}>
        <SSRMuiProvider client:idle>
          <div>Contenido principal cargado en idle...</div>
        </SSRMuiProvider>
      </section>
    </div>
  </main>
</Layout>
