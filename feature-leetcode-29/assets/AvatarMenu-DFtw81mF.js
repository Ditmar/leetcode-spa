import{r as p,b as P,j as g,c as A,p as N,Y as L}from"./iframe-DiGQfTj6.js";import{s as I,r as q}from"./styled-YhZ2JRNU.js";import{I as U}from"./IconButton-CYpGz_wn.js";import{T as z}from"./Typography-C-NOhL6s.js";import{u as K}from"./useTheme-Cd_UZWsW.js";import{A as _}from"./Avatar-BhnS2ZWg.js";import{M as G}from"./Menu-ipoMp-fD.js";import{c as O,m as R}from"./memoTheme-DIVoediG.js";import{L as T}from"./List-y4B1k-gg.js";import{g as j,a as W}from"./generateUtilityClasses-CoM_PQv9.js";import{u as H}from"./useForkRef-CFnyN1le.js";import{B as Y}from"./ButtonBase-BgcGEsHO.js";import{l as B,L as Z}from"./ListItemText-NC0jpLQk.js";function J(e){return W("MuiDivider",e)}const V=j("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Q=e=>{const{absolute:t,children:i,classes:s,flexItem:u,light:f,orientation:a,textAlign:l,variant:o}=e;return O({root:["root",t&&"absolute",o,f&&"light",a==="vertical"&&"vertical",u&&"flexItem",i&&"withChildren",i&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},J,s)},X=I("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,i.orientation==="vertical"&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&i.orientation==="vertical"&&t.withChildrenVertical,i.textAlign==="right"&&i.orientation!=="vertical"&&t.textAlignRight,i.textAlign==="left"&&i.orientation!=="vertical"&&t.textAlignLeft]}})(R(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),ee=I("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.wrapper,i.orientation==="vertical"&&t.wrapperVertical]}})(R(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),D=p.forwardRef(function(t,i){const s=P({props:t,name:"MuiDivider"}),{absolute:u=!1,children:f,className:a,orientation:l="horizontal",component:o=f||l==="vertical"?"div":"hr",flexItem:x=!1,light:v=!1,role:d=o!=="hr"?"separator":void 0,textAlign:y="center",variant:C="fullWidth",...b}=s,c={...s,absolute:u,component:o,flexItem:x,light:v,orientation:l,role:d,textAlign:y,variant:C},w=Q(c);return g.jsx(X,{as:o,className:A(w.root,a),role:d,ref:i,ownerState:c,"aria-orientation":d==="separator"&&(o!=="hr"||l==="vertical")?l:void 0,...b,children:f?g.jsx(ee,{className:w.wrapper,ownerState:c,children:f}):null})});D&&(D.muiSkipListHighlight=!0);function te(e){return W("MuiListItemIcon",e)}const F=j("MuiListItemIcon",["root","alignItemsFlexStart"]),ie=e=>{const{alignItems:t,classes:i}=e;return O({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},te,i)},oe=I("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(R(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),ae=p.forwardRef(function(t,i){const s=P({props:t,name:"MuiListItemIcon"}),{className:u,...f}=s,a=p.useContext(T),l={...s,alignItems:a.alignItems},o=ie(l);return g.jsx(oe,{className:A(o.root,u),ownerState:l,ref:i,...f})});function ne(e){return W("MuiMenuItem",e)}const M=j("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),re=(e,t)=>{const{ownerState:i}=e;return[t.root,i.dense&&t.dense,i.divider&&t.divider,!i.disableGutters&&t.gutters]},se=e=>{const{disabled:t,dense:i,divider:s,disableGutters:u,selected:f,classes:a}=e,o=O({root:["root",i&&"dense",t&&"disabled",!u&&"gutters",s&&"divider",f&&"selected"]},ne,a);return{...a,...o}},le=I(Y,{shouldForwardProp:e=>q(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:re})(R(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${M.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${M.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${M.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${V.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${V.inset}`]:{marginLeft:52},[`& .${B.root}`]:{marginTop:0,marginBottom:0},[`& .${B.inset}`]:{paddingLeft:36},[`& .${F.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${F.root} svg`]:{fontSize:"1.25rem"}}}]}))),de=p.forwardRef(function(t,i){const s=P({props:t,name:"MuiMenuItem"}),{autoFocus:u=!1,component:f="li",dense:a=!1,divider:l=!1,disableGutters:o=!1,focusVisibleClassName:x,role:v="menuitem",tabIndex:d,className:y,...C}=s,b=p.useContext(T),c=p.useMemo(()=>({dense:a||b.dense||!1,disableGutters:o}),[b.dense,a,o]),w=p.useRef(null);N(()=>{u&&w.current&&w.current.focus()},[u]);const n={...s,dense:c.dense,divider:l,disableGutters:o},m=se(s),k=H(w,i);let h;return s.disabled||(h=d!==void 0?d:-1),g.jsx(T.Provider,{value:c,children:g.jsx(le,{ref:k,role:v,tabIndex:h,component:f,focusVisibleClassName:A(m.focusVisible,x),className:A(m.root,y),...C,ownerState:n,classes:m})})}),ce=[{label:"Profile",onClick:()=>console.log("Action: Navigate to Profile"),key:"profile","data-testid":"menu-item-profile"},{label:"Account Settings",onClick:()=>console.log("Action: Open Settings"),"data-testid":"menu-item-settings",key:"settings"},{label:"Sign Out",onClick:()=>console.log("Action: Execute Logout"),key:"logout",divider:!0,"data-testid":"menu-item-logout"}],pe=()=>{const[e,t]=p.useState(null),[i,s]=p.useState(-1),u=p.useRef(1),f=p.useId(),a=`${f}-avatar-trigger`,l=`${f}-avatar-menu`,o=!!e,x=o,v=p.useCallback(n=>{n?.currentTarget&&(t(n.currentTarget),s(0),typeof window<"u"&&(u.current=window.outerWidth/window.innerWidth))},[]),d=p.useCallback(()=>{t(null),s(-1)},[]),y=p.useCallback(n=>{e?d():v(n)},[e,d,v]);p.useEffect(()=>{const n=()=>{if(typeof window<"u"){const m=window.outerWidth/window.innerWidth;Math.abs(m-u.current)>.01&&o&&(u.current=m,d())}};if(typeof window<"u")return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[o,d]);const C=p.useCallback((n,m)=>{const{key:k}=n;switch(k){case"Escape":n.preventDefault(),d();break;case"ArrowDown":n.preventDefault(),s(h=>h<m-1?h+1:0);break;case"ArrowUp":n.preventDefault(),s(h=>h>0?h-1:m-1);break}},[d]),b=p.useCallback(n=>{const{key:m}=n;if(m==="Escape"&&o){d();return}(m==="Enter"||m===" ")&&!o&&(n.preventDefault(),v(n))},[o,d,v]),c=p.useCallback(n=>({id:a,"aria-controls":o?l:void 0,"aria-haspopup":"menu","aria-expanded":String(o),onClick:y,onKeyDown:b,...n}),[a,l,o,y,b]),w=p.useCallback(n=>({id:l,anchorEl:e,open:o,onClose:d,"aria-labelledby":a,...n}),[l,e,o,d,a]);return{open:o,isOpen:x,anchorEl:e,triggerId:a,menuId:l,focusedIndex:i,handleOpen:v,handleClose:d,handleToggle:y,handleKeyDown:b,handleMenuKeyDown:C,setFocusedIndex:s,getTriggerProps:c,getMenuProps:w}},ue=I(U,{shouldForwardProp:e=>e!=="$fullWidth"&&e!=="$isOpen"})(e=>{const t=L.palette.mode="dark";return{borderRadius:e.theme.shape.borderRadius,padding:e.theme.spacing(1),width:e.$fullWidth?"100%":"auto",justifyContent:e.$fullWidth?"flex-end":"center",display:"flex","&:hover":{backgroundColor:t?L.palette.action.focus:L.palette.action.hover}}}),ge=I("div")(({theme:e,$fullWidth:t})=>({display:"flex",alignItems:"center",gap:e.spacing(1.125),position:"relative",width:t?"100%":"auto",justifyContent:t?"flex-end":"center"}));I(z)(({theme:e})=>({color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,[e.breakpoints.down("sm")]:{display:"none"}}));const fe=I("div")(({theme:e})=>({width:e.spacing(2),height:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"})),me=I("div")(({theme:e,$isOpen:t})=>({width:0,height:0,borderTop:`${e.spacing(1.25)} solid ${e.palette.text.primary}`,borderLeft:`${e.spacing(.833)} solid transparent`,borderRight:`${e.spacing(.833)} solid transparent`,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.short}),transform:t?"rotate(180deg)":"rotate(0deg)",display:"inline-block",verticalAlign:"middle"})),ve=({avatarUrl:e,username:t,menuItems:i=ce,avatarProps:s,fullWidth:u=!1,"data-testid":f="avatar-menu"})=>{const{isOpen:a,anchorEl:l,handleToggle:o,handleClose:x,menuId:v,triggerId:d,focusedIndex:y,handleMenuKeyDown:C,setFocusedIndex:b}=pe(),c=K(),n=i.filter(r=>!r.disabled).length,{sx:m,...k}=s||{},h={width:c.spacing(5.75),height:c.spacing(5.75)};return g.jsxs(g.Fragment,{children:[g.jsx(ue,{id:d,"aria-label":`User menu${t?`: ${t}`:""}`,"aria-controls":a?v:void 0,"aria-haspopup":"true","aria-expanded":a?"true":"false",onClick:o,"data-testid":f,$fullWidth:u,$isOpen:a,children:g.jsxs(ge,{$fullWidth:u,children:[g.jsx(_,{src:e,alt:t||"User avatar",sx:{...h,...m},...k}),g.jsx(fe,{children:g.jsx(me,{$isOpen:a})})]})}),g.jsx(G,{id:v,anchorEl:l,open:a,onClose:x,disablePortal:!1,keepMounted:!1,disableScrollLock:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{sx:r=>({marginTop:r.spacing(1),padding:r.spacing(.5),zIndex:r.zIndex.modal,border:"1px solid",borderColor:r.palette.divider,backgroundColor:r.palette.background.paper,borderRadius:r.spacing(.5),boxShadow:r.shadows[3]})}},MenuListProps:{"aria-labelledby":d,onKeyDown:r=>C(r,n),autoFocus:!0,dense:!0,sx:{paddingTop:0,paddingBottom:0}},children:i.map((r,$)=>{const S=!r.disabled,E=y===$&&S;return[g.jsxs(de,{onClick:()=>{S&&(r.onClick(),x())},onMouseEnter:()=>{S&&b($)},disabled:r.disabled,"data-testid":r["data-testid"],autoFocus:E,...r.menuItemProps,sx:{padding:c.spacing(2),color:c.palette.text.primary,borderRadius:c.spacing(.5),"&:hover":{backgroundColor:c.palette.action.hover},"&.Mui-focusVisible":{outline:`1px solid ${c.palette.primary.main}`},...E&&{boxShadow:c.shadows[1]},transition:c.transitions.create(["all"],{duration:c.transitions.duration.shortest,easing:c.transitions.easing.easeInOut}),...r.menuItemProps?.sx},children:[r.icon&&g.jsx(ae,{children:r.icon}),g.jsx(Z,{children:r.label})]},`${r.label}-${$}`),r.divider&&g.jsx(D,{},`divider-${r.label}-${$}`)]})})]})};ve.__docgenInfo={description:"",methods:[],displayName:"AvatarMenu",props:{avatarUrl:{required:!0,tsType:{name:"string"},description:""},username:{required:!0,tsType:{name:"string"},description:""},menuItems:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  onClick: () => void;
  icon?: ReactNode;
  disabled?: boolean;
  divider?: boolean;
  'data-testid'?: string;
  menuItemProps?: Omit<MuiMenuItemProps, 'onClick'>;
  key?: 'profile' | 'settings' | 'logout' | string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}},{key:"icon",value:{name:"ReactNode",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"divider",value:{name:"boolean",required:!1}},{key:"data-testid",value:{name:"string",required:!1}},{key:"menuItemProps",value:{name:"Omit",elements:[{name:"MuiMenuItemProps"},{name:"literal",value:"'onClick'"}],raw:"Omit<MuiMenuItemProps, 'onClick'>",required:!1}},{key:"key",value:{name:"union",raw:"'profile' | 'settings' | 'logout' | string",elements:[{name:"literal",value:"'profile'"},{name:"literal",value:"'settings'"},{name:"literal",value:"'logout'"},{name:"string"}],required:!1}}]}}],raw:"AvatarMenuItemProps[]"},description:"",defaultValue:{value:`[
  {
    label: 'Profile',
    // eslint-disable-next-line no-console
    onClick: () => console.log('Action: Navigate to Profile'),
    key: 'profile',
    'data-testid': 'menu-item-profile',
  },
  {
    label: 'Account Settings',
    // eslint-disable-next-line no-console
    onClick: () => console.log('Action: Open Settings'),
    'data-testid': 'menu-item-settings',
    key: 'settings',
  },
  {
    label: 'Sign Out',
    // eslint-disable-next-line no-console
    onClick: () => console.log('Action: Execute Logout'),
    key: 'logout',
    divider: true,
    'data-testid': 'menu-item-logout',
  },
]`,computed:!1}},avatarProps:{required:!1,tsType:{name:"Omit",elements:[{name:"MuiAvatarProps"},{name:"union",raw:"'src' | 'alt'",elements:[{name:"literal",value:"'src'"},{name:"literal",value:"'alt'"}]}],raw:"Omit<MuiAvatarProps, 'src' | 'alt'>"},description:""},fullWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},"data-testid":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'avatar-menu'",computed:!1}}}};export{ve as A,ce as D};
