import{a as h,j as o,k as H,f as I,D as He,h as J,W as Fe,e as Oe,w as $e,G as Ee}from"./iframe-BLkpsOqA.js";import{c as Ue}from"./createSvgIcon-D9uHM1x1.js";import{c as X,g as Y,a as oe,s as m,m as R}from"./memoTheme-K-_jYewk.js";import{s as Ve,u as _e,S as ye}from"./Stack-CWBtV5Ou.js";import{T as ue}from"./Typography-qsre9Iq8.js";import{B as qe}from"./Box-BgXOFoh6.js";import{P as Me}from"./Paper-CMgXiWiu.js";import{D as Je,M as we}from"./MenuItem-Bz9oRZex.js";import{u as $}from"./useSlot-DIHReoAG.js";import{u as Xe,F as Ce}from"./FormLabel-e3RCcsMi.js";import{u as Ye}from"./useTheme-Dzz3X1iW.js";import{T as Ke,b as Pe}from"./Menu-CYiwEDz-.js";import{a as Qe,B as Ze}from"./ButtonBase-J5HaIzAC.js";import{u as et}from"./useForkRef-C_s4FjP_.js";import{c as tt}from"./createSimplePaletteValueFilter-bm0fmN_7.js";import{S as ot}from"./SwitchBase-Q6JZEcmI.js";import{a as je,S as ke}from"./Select-DoXNHH-B.js";import"./preload-helper-PPVm8Dsz.js";import"./getThemeProps-Vpw8z9DM.js";import"./index-BZkPf7f3.js";import"./index-CeNp4_Q8.js";import"./createChainedFunction-BO_9K8Jh.js";const it=He(),nt=Ve("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`maxWidth${I(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),at=e=>_e({props:e,name:"MuiContainer",defaultTheme:it}),st=(e,t)=>{const i=a=>Y(t,a),{classes:d,fixed:p,disableGutters:f,maxWidth:n}=e,c={root:["root",n&&`maxWidth${I(String(n))}`,p&&"fixed",f&&"disableGutters"]};return X(c,i,d)};function rt(e={}){const{createStyledComponent:t=nt,useThemeProps:i=at,componentName:d="MuiContainer"}=e,p=t(({theme:n,ownerState:c})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!c.disableGutters&&{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}}),({theme:n,ownerState:c})=>c.fixed&&Object.keys(n.breakpoints.values).reduce((a,x)=>{const u=x,r=n.breakpoints.values[u];return r!==0&&(a[n.breakpoints.up(u)]={maxWidth:`${r}${n.breakpoints.unit}`}),a},{}),({theme:n,ownerState:c})=>({...c.maxWidth==="xs"&&{[n.breakpoints.up("xs")]:{maxWidth:Math.max(n.breakpoints.values.xs,444)}},...c.maxWidth&&c.maxWidth!=="xs"&&{[n.breakpoints.up(c.maxWidth)]:{maxWidth:`${n.breakpoints.values[c.maxWidth]}${n.breakpoints.unit}`}}}));return h.forwardRef(function(c,a){const x=i(c),{className:u,component:r="div",disableGutters:g=!1,fixed:s=!1,maxWidth:y="lg",classes:E,...A}=x,b={...x,component:r,disableGutters:g,fixed:s,maxWidth:y},S=st(b,d);return o.jsx(p,{as:r,ownerState:b,className:H(S.root,u),ref:a,...A})})}function ct(e){return Y("MuiCollapse",e)}oe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const lt=e=>{const{orientation:t,classes:i}=e,d={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return X(d,ct,i)},dt=m("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.orientation],i.state==="entered"&&t.entered,i.state==="exited"&&!i.in&&i.collapsedSize==="0px"&&t.hidden]}})(R(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),pt=m("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ut=m("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),be=h.forwardRef(function(t,i){const d=J({props:t,name:"MuiCollapse"}),{addEndListener:p,children:f,className:n,collapsedSize:c="0px",component:a,easing:x,in:u,onEnter:r,onEntered:g,onEntering:s,onExit:y,onExited:E,onExiting:A,orientation:b="vertical",style:S,timeout:v=Fe.standard,TransitionComponent:M=Ke,...L}=d,N={...d,orientation:b,collapsedSize:c},P=lt(N),W=Ye(),K=Qe(),w=h.useRef(null),j=h.useRef(),F=typeof c=="number"?`${c}px`:c,B=b==="horizontal",G=B?"width":"height",O=h.useRef(null),he=et(i,O),z=l=>k=>{if(l){const T=O.current;k===void 0?l(T):l(T,k)}},Q=()=>w.current?w.current[B?"clientWidth":"clientHeight"]:0,me=z((l,k)=>{w.current&&B&&(w.current.style.position="absolute"),l.style[G]=F,r&&r(l,k)}),fe=z((l,k)=>{const T=Q();w.current&&B&&(w.current.style.position="");const{duration:Z,easing:ie}=Pe({style:S,timeout:v,easing:x},{mode:"enter"});if(v==="auto"){const Se=W.transitions.getAutoHeightDuration(T);l.style.transitionDuration=`${Se}ms`,j.current=Se}else l.style.transitionDuration=typeof Z=="string"?Z:`${Z}ms`;l.style[G]=`${T}px`,l.style.transitionTimingFunction=ie,s&&s(l,k)}),ze=z((l,k)=>{l.style[G]="auto",g&&g(l,k)}),De=z(l=>{l.style[G]=`${Q()}px`,y&&y(l)}),Le=z(E),Be=z(l=>{const k=Q(),{duration:T,easing:Z}=Pe({style:S,timeout:v,easing:x},{mode:"exit"});if(v==="auto"){const ie=W.transitions.getAutoHeightDuration(k);l.style.transitionDuration=`${ie}ms`,j.current=ie}else l.style.transitionDuration=typeof T=="string"?T:`${T}ms`;l.style[G]=F,l.style.transitionTimingFunction=Z,A&&A(l)}),Ge=l=>{v==="auto"&&K.start(j.current||0,l),p&&p(O.current,l)};return o.jsx(M,{in:u,onEnter:me,onEntered:ze,onEntering:fe,onExit:De,onExited:Le,onExiting:Be,addEndListener:Ge,nodeRef:O,timeout:v==="auto"?null:v,...L,children:(l,{ownerState:k,...T})=>o.jsx(dt,{as:a,className:H(P.root,n,{entered:P.entered,exited:!u&&F==="0px"&&P.hidden}[l]),style:{[B?"minWidth":"minHeight"]:F,...S},ref:he,ownerState:{...N,state:l},...T,children:o.jsx(pt,{ownerState:{...N,state:l},className:P.wrapper,ref:w,children:o.jsx(ut,{ownerState:{...N,state:l},className:P.wrapperInner,children:f})})})})});be&&(be.muiSupportAuto=!0);const Ie=h.createContext({});function gt(e){return Y("MuiAccordion",e)}const ne=oe("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),ht=e=>{const{classes:t,square:i,expanded:d,disabled:p,disableGutters:f}=e;return X({root:["root",!i&&"rounded",d&&"expanded",p&&"disabled",!f&&"gutters"],heading:["heading"],region:["region"]},gt,t)},mt=m(Me,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${ne.region}`]:t.region},t.root,!i.square&&t.rounded,!i.disableGutters&&t.gutters]}})(R(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${ne.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${ne.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),R(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${ne.expanded}`]:{margin:"16px 0"}}}]}))),ft=m("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),xt=m("div",{name:"MuiAccordion",slot:"Region"})({}),ae=h.forwardRef(function(t,i){const d=J({props:t,name:"MuiAccordion"}),{children:p,className:f,defaultExpanded:n=!1,disabled:c=!1,disableGutters:a=!1,expanded:x,onChange:u,square:r=!1,slots:g={},slotProps:s={},TransitionComponent:y,TransitionProps:E,...A}=d,[b,S]=Xe({controlled:x,default:n,name:"Accordion",state:"expanded"}),v=h.useCallback(fe=>{S(!b),u&&u(fe,!b)},[b,u,S]),[M,...L]=h.Children.toArray(p),N=h.useMemo(()=>({expanded:b,disabled:c,disableGutters:a,toggle:v}),[b,c,a,v]),P={...d,square:r,disabled:c,disableGutters:a,expanded:b},W=ht(P),K={transition:y,...g},w={transition:E,...s},j={slots:K,slotProps:w},[F,B]=$("root",{elementType:mt,externalForwardedProps:{...j,...A},className:H(W.root,f),shouldForwardComponentProp:!0,ownerState:P,ref:i,additionalProps:{square:r}}),[G,O]=$("heading",{elementType:ft,externalForwardedProps:j,className:W.heading,ownerState:P}),[he,z]=$("transition",{elementType:be,externalForwardedProps:j,ownerState:P}),[Q,me]=$("region",{elementType:xt,externalForwardedProps:j,ownerState:P,className:W.region,additionalProps:{"aria-labelledby":M.props.id,id:M.props["aria-controls"],role:"region"}});return o.jsxs(F,{...B,children:[o.jsx(G,{...O,children:o.jsx(Ie.Provider,{value:N,children:M})}),o.jsx(he,{in:b,timeout:"auto",...z,children:o.jsx(Q,{...me,children:L})})]})});function bt(e){return Y("MuiAccordionDetails",e)}oe("MuiAccordionDetails",["root"]);const yt=e=>{const{classes:t}=e;return X({root:["root"]},bt,t)},vt=m("div",{name:"MuiAccordionDetails",slot:"Root"})(R(({theme:e})=>({padding:e.spacing(1,2,2)}))),se=h.forwardRef(function(t,i){const d=J({props:t,name:"MuiAccordionDetails"}),{className:p,...f}=d,n=d,c=yt(n);return o.jsx(vt,{className:H(c.root,p),ref:i,ownerState:n,...f})});function St(e){return Y("MuiAccordionSummary",e)}const q=oe("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),wt=e=>{const{classes:t,expanded:i,disabled:d,disableGutters:p}=e;return X({root:["root",i&&"expanded",d&&"disabled",!p&&"gutters"],focusVisible:["focusVisible"],content:["content",i&&"expanded",!p&&"contentGutters"],expandIconWrapper:["expandIconWrapper",i&&"expanded"]},St,t)},Ct=m(Ze,{name:"MuiAccordionSummary",slot:"Root"})(R(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${q.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${q.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${q.disabled})`]:{cursor:"pointer"},variants:[{props:i=>!i.disableGutters,style:{[`&.${q.expanded}`]:{minHeight:64}}}]}})),Pt=m("span",{name:"MuiAccordionSummary",slot:"Content"})(R(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${q.expanded}`]:{margin:"20px 0"}}}]}))),jt=m("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(R(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${q.expanded}`]:{transform:"rotate(180deg)"}}))),re=h.forwardRef(function(t,i){const d=J({props:t,name:"MuiAccordionSummary"}),{children:p,className:f,expandIcon:n,focusVisibleClassName:c,onClick:a,slots:x,slotProps:u,...r}=d,{disabled:g=!1,disableGutters:s,expanded:y,toggle:E}=h.useContext(Ie),A=w=>{E&&E(w),a&&a(w)},b={...d,expanded:y,disabled:g,disableGutters:s},S=wt(b),v={slots:x,slotProps:u},[M,L]=$("root",{ref:i,shouldForwardComponentProp:!0,className:H(S.root,f),elementType:Ct,externalForwardedProps:{...v,...r},ownerState:b,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:g,"aria-expanded":y,focusVisibleClassName:H(S.focusVisible,c)},getSlotProps:w=>({...w,onClick:j=>{w.onClick?.(j),A(j)}})}),[N,P]=$("content",{className:S.content,elementType:Pt,externalForwardedProps:v,ownerState:b}),[W,K]=$("expandIconWrapper",{className:S.expandIconWrapper,elementType:jt,externalForwardedProps:v,ownerState:b});return o.jsxs(M,{...L,children:[o.jsx(N,{...P,children:p}),n&&o.jsx(W,{...K,children:n})]})}),kt=rt({createStyledComponent:m("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`maxWidth${I(String(i.maxWidth))}`],i.fixed&&t.fixed,i.disableGutters&&t.disableGutters]}}),useThemeProps:e=>J({props:e,name:"MuiContainer"})});function Tt(e){return Y("MuiSwitch",e)}const C=oe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Rt=e=>{const{classes:t,edge:i,size:d,color:p,checked:f,disabled:n}=e,c={root:["root",i&&`edge${I(i)}`,`size${I(d)}`],switchBase:["switchBase",`color${I(p)}`,f&&"checked",n&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=X(c,Tt,t);return{...t,...a}},At=m("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.edge&&t[`edge${I(i.edge)}`],t[`size${I(i.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${C.thumb}`]:{width:16,height:16},[`& .${C.switchBase}`]:{padding:4,[`&.${C.checked}`]:{transform:"translateX(16px)"}}}}]}),$t=m(ot,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.switchBase,{[`& .${C.input}`]:t.input},i.color!=="default"&&t[`color${I(i.color)}`]]}})(R(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${C.checked}`]:{transform:"translateX(20px)"},[`&.${C.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${C.checked} + .${C.track}`]:{opacity:.5},[`&.${C.disabled} + .${C.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${C.input}`]:{left:"-100%",width:"300%"}})),R(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(tt(["light"])).map(([t])=>({props:{color:t},style:{[`&.${C.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${C.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${C.checked} + .${C.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),Et=m("span",{name:"MuiSwitch",slot:"Track"})(R(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),Mt=m("span",{name:"MuiSwitch",slot:"Thumb"})(R(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),ee=h.forwardRef(function(t,i){const d=J({props:t,name:"MuiSwitch"}),{className:p,color:f="primary",edge:n=!1,size:c="medium",sx:a,slots:x={},slotProps:u={},...r}=d,g={...d,color:f,edge:n,size:c},s=Rt(g),y={slots:x,slotProps:u},[E,A]=$("root",{className:H(s.root,p),elementType:At,externalForwardedProps:y,ownerState:g,additionalProps:{sx:a}}),[b,S]=$("thumb",{className:s.thumb,elementType:Mt,externalForwardedProps:y,ownerState:g}),v=o.jsx(b,{...S}),[M,L]=$("track",{className:s.track,elementType:Et,externalForwardedProps:y,ownerState:g});return o.jsxs(E,{...A,children:[o.jsx($t,{type:"checkbox",icon:v,checkedIcon:v,ref:i,ownerState:g,...r,classes:{...s,root:s.switchBase},slots:{...x.switchBase&&{root:x.switchBase},...x.input&&{input:x.input}},slotProps:{...u.switchBase&&{root:typeof u.switchBase=="function"?u.switchBase(g):u.switchBase},input:{role:"switch"},...u.input&&{input:typeof u.input=="function"?u.input(g):u.input}}}),o.jsx(M,{...L})]})}),ce=Ue(o.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Ne="app-user-preferences-v1",Te=[{value:"en",label:"English"},{value:"es",label:"Español"}],U={themeSwitch:"settings-theme-switch",notificationsSwitch:"settings-notifications-switch",languageSelect:"settings-language-select",privacyPublicProfile:"settings-privacy-public-profile",privacyShareActivity:"settings-privacy-share-activity",privacySaveHistory:"settings-privacy-save-history"},It={theme:"Dark mode",notifications:"Enable notifications",language:"Language",sectionTheme:"Theme",sectionNotifications:"Notifications",sectionLanguage:"Language",sectionPrivacy:"Privacy Settings",privacyPublicProfile:"Public profile",privacyShareActivity:"Share activity",privacySaveHistory:"Save history"},Nt={theme:"Modo oscuro",notifications:"Habilitar notificaciones",language:"Idioma",sectionTheme:"Tema",sectionNotifications:"Notificaciones",sectionLanguage:"Idioma",sectionPrivacy:"Configuración de privacidad",privacyPublicProfile:"Perfil público",privacyShareActivity:"Compartir actividad",privacySaveHistory:"Guardar historial"},Wt={en:It,es:Nt},V={container:"settings-page-container",themeSection:"settings-section-theme",notificationsSection:"settings-section-notifications",languageSection:"settings-section-language",privacySection:"settings-section-privacy"},ge={theme:"light",notifications:!0,language:"en",privacy:{publicProfile:!0,shareActivity:!0,saveHistory:!0}},zt=e=>!e||typeof e!="object"?ge:{...ge,...e},Dt=e=>{try{const t=localStorage.getItem(Ne);if(t!==null)return zt(JSON.parse(t))}catch(t){console.warn("[useSettingsPage] Error reading localStorage:",t)}return e?{...ge,...e}:ge},Lt=e=>{const{initialPreferences:t}=e??{},[i,d]=h.useState(()=>Dt(t)),[p,f]=h.useState(!0);h.useEffect(()=>{const r=setTimeout(()=>f(!1),100);return()=>clearTimeout(r)},[]),h.useEffect(()=>{if(p)return;const r=setTimeout(()=>{try{localStorage.setItem(Ne,JSON.stringify(i))}catch(g){console.warn("[useSettingsPage] No se pudo guardar en localStorage:",g)}},300);return()=>clearTimeout(r)},[i,p]),h.useEffect(()=>{const r=document.documentElement;r.dataset.theme=i.theme,i.theme==="dark"?r.classList.add("dark"):r.classList.remove("dark")},[i.theme]);const n=h.useCallback(r=>{d(r)},[]),c=h.useCallback(()=>{n(r=>({...r,theme:r.theme==="light"?"dark":"light"}))},[n]),a=h.useCallback(r=>{n(g=>({...g,notifications:r}))},[n]),x=h.useCallback(r=>{n(g=>({...g,language:r}))},[n]),u=h.useCallback((r,g)=>{n(s=>({...s,privacy:{...s.privacy,[r]:g}}))},[n]);return{preferences:i,isLoading:p,toggleTheme:c,setNotifications:a,setLanguage:x,setPrivacySetting:u}},Re=m(kt,{shouldForwardProp:e=>e!=="forceMobile"})(({theme:e,forceMobile:t})=>({padding:e.spacing(4),maxWidth:e.breakpoints.values.lg,margin:"0 auto",width:"100%",flex:1,display:"flex",flexDirection:"column",gap:e.spacing(4),backgroundColor:e.palette.background.paper,...t&&{maxWidth:"100%",padding:e.spacing(2),[e.breakpoints.up("sm")]:{padding:e.spacing(2)}}})),Bt=m(ye)(({theme:e})=>({gap:e.spacing(4),width:"100%"})),le=m(Me)(({theme:e})=>({padding:e.spacing(4),borderRadius:e.spacing(2),boxShadow:e.shadows[3],backgroundColor:e.palette.background.paper,border:`1px solid ${e.palette.divider}`,transition:e.transitions.create(["box-shadow","border-color"]),"&:hover":{boxShadow:e.shadows[6]}})),D=m(ue)(({theme:e})=>({fontSize:e.typography.h6.fontSize,fontWeight:e.typography.fontWeightBold,color:e.palette.text.primary,display:"flex",alignItems:"center",gap:e.spacing(1)})),xe=m(ye)(({theme:e})=>({gap:e.spacing(3)})),_=m(ye)(({theme:e})=>({flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",gap:e.spacing(2),[e.breakpoints.down("md")]:{flexDirection:"column",alignItems:"stretch",gap:e.spacing(1.5)}})),te=m(ue)(({theme:e})=>({fontSize:e.typography.body2.fontSize,color:e.palette.text.secondary,marginTop:e.spacing(.5)}));m(Je)(({theme:e})=>({margin:e.spacing(2,0)}));const Ae=m(qe)(({theme:e})=>({padding:e.spacing(3),borderRadius:e.shape.borderRadius,backgroundColor:e.palette.mode==="dark"?e.palette.grey[800]:e.palette.grey[100],border:`1px dashed ${e.palette.divider}`,display:"flex",flexDirection:"column",gap:e.spacing(2.5)})),ve=Oe.memo(({forceMobile:e})=>{const{preferences:t,isLoading:i,toggleTheme:d,setNotifications:p,setLanguage:f,setPrivacySetting:n}=Lt({}),c=h.useMemo(()=>$e({palette:{mode:t.theme}}),[t.theme]),a=Wt[t.language],x=e??!1,u=()=>o.jsx(o.Fragment,{children:Object.keys(t.privacy).map(s=>o.jsxs(_,{children:[o.jsxs("div",{children:[o.jsx(ue,{variant:"body1",fontWeight:"medium",children:a[s==="publicProfile"?"privacyPublicProfile":s==="shareActivity"?"privacyShareActivity":"privacySaveHistory"]}),o.jsxs(te,{children:[s==="publicProfile"&&"Tu perfil será visible para otros usuarios",s==="shareActivity"&&"Tu actividad aparecerá en el feed público",s==="saveHistory"&&"Guardamos tu historial de navegación"]})]}),o.jsx(ee,{checked:t.privacy[s],onChange:y=>n(s,y.target.checked),inputProps:{"aria-label":a[s==="publicProfile"?"privacyPublicProfile":s==="shareActivity"?"privacyShareActivity":"privacySaveHistory"]},id:U[s==="publicProfile"?"privacyPublicProfile":s==="shareActivity"?"privacyShareActivity":"privacySaveHistory"]})]},s))});if(i)return o.jsx(Re,{"data-testid":V.container,children:o.jsx(ue,{variant:"h6",textAlign:"center",children:"Cargando preferencias..."})});const r=()=>o.jsxs(o.Fragment,{children:[o.jsxs(le,{"data-testid":V.themeSection,children:[o.jsx(D,{children:a.sectionTheme}),o.jsx(xe,{children:o.jsxs(_,{children:[o.jsx(te,{children:a.theme}),o.jsx(ee,{checked:t.theme==="dark",onChange:d,inputProps:{"aria-label":a.theme},id:U.themeSwitch})]})})]}),o.jsxs(le,{"data-testid":V.notificationsSection,children:[o.jsx(D,{children:a.sectionNotifications}),o.jsx(xe,{children:o.jsxs(_,{children:[o.jsx(te,{children:a.notifications}),o.jsx(ee,{checked:t.notifications,onChange:s=>p(s.target.checked),inputProps:{"aria-label":a.notifications},id:U.notificationsSwitch})]})})]}),o.jsxs(le,{"data-testid":V.languageSection,children:[o.jsx(D,{children:a.sectionLanguage}),o.jsx(xe,{children:o.jsx(_,{children:o.jsxs(Ce,{fullWidth:!0,children:[o.jsx(je,{id:"language-select-label",children:a.language}),o.jsx(ke,{labelId:"language-select-label",id:U.languageSelect,value:t.language,label:a.language,onChange:s=>f(s.target.value),children:Te.map(({value:s,label:y})=>o.jsx(we,{value:s,children:y},s))})]})})})]}),o.jsxs(le,{"data-testid":V.privacySection,children:[o.jsx(D,{children:a.sectionPrivacy}),o.jsx(Ae,{children:o.jsx(u,{})})]})]}),g=()=>o.jsxs(o.Fragment,{children:[o.jsxs(ae,{defaultExpanded:!0,children:[o.jsx(re,{expandIcon:o.jsx(ce,{}),children:o.jsx(D,{children:a.sectionTheme})}),o.jsx(se,{children:o.jsxs(_,{children:[o.jsx(te,{children:a.theme}),o.jsx(ee,{checked:t.theme==="dark",onChange:d,inputProps:{"aria-label":a.theme},id:U.themeSwitch})]})})]}),o.jsxs(ae,{children:[o.jsx(re,{expandIcon:o.jsx(ce,{}),children:o.jsx(D,{children:a.sectionNotifications})}),o.jsx(se,{children:o.jsxs(_,{children:[o.jsx(te,{children:a.notifications}),o.jsx(ee,{checked:t.notifications,onChange:s=>p(s.target.checked),inputProps:{"aria-label":a.notifications},id:U.notificationsSwitch})]})})]}),o.jsxs(ae,{children:[o.jsx(re,{expandIcon:o.jsx(ce,{}),children:o.jsx(D,{children:a.sectionLanguage})}),o.jsx(se,{children:o.jsxs(Ce,{fullWidth:!0,children:[o.jsx(je,{id:"mobile-language-select-label",children:a.language}),o.jsx(ke,{labelId:"mobile-language-select-label",value:t.language,label:a.language,onChange:s=>f(s.target.value),children:Te.map(({value:s,label:y})=>o.jsx(we,{value:s,children:y},s))})]})})]}),o.jsxs(ae,{children:[o.jsx(re,{expandIcon:o.jsx(ce,{}),children:o.jsx(D,{children:a.sectionPrivacy})}),o.jsx(se,{children:o.jsx(Ae,{children:o.jsx(u,{})})})]})]});return o.jsx(Ee,{theme:c,children:o.jsx(Re,{forceMobile:x,"data-testid":V.container,children:o.jsx(Bt,{direction:"column",spacing:4,children:x?o.jsx(g,{}):o.jsx(r,{})})})})});ve.displayName="SettingsPage";ve.__docgenInfo={description:"",methods:[],displayName:"SettingsPage",props:{initialPreferences:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  theme: ThemeMode;
  notifications: boolean;
  language: Locale;
  privacy: PrivacySettings;
}`,signature:{properties:[{key:"theme",value:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}],required:!0}},{key:"notifications",value:{name:"boolean",required:!0}},{key:"language",value:{name:"SETTINGS_LABELS",required:!0}},{key:"privacy",value:{name:"signature",type:"object",raw:`{
  publicProfile: boolean;
  shareActivity: boolean;
  saveHistory: boolean;
}`,signature:{properties:[{key:"publicProfile",value:{name:"boolean",required:!0}},{key:"shareActivity",value:{name:"boolean",required:!0}},{key:"saveHistory",value:{name:"boolean",required:!0}}]},required:!0}}]}}],raw:"Partial<UserPreferences>"},description:""},forceMobile:{required:!1,tsType:{name:"boolean"},description:""}}};const co={title:"Pages/Settings",component:ve,parameters:{layout:"fullscreen"},decorators:[e=>o.jsx(Ee,{theme:$e(),children:o.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:o.jsx(e,{})})})],argTypes:{forceMobile:{control:"boolean"},initialPreferences:{control:"object"}}},We={theme:"light",language:"en",notifications:!0,privacy:{publicProfile:!0,shareActivity:!0,saveHistory:!0}},de={args:{initialPreferences:We,forceMobile:!1},parameters:{viewport:{defaultViewport:"desktop"}}},pe={args:{initialPreferences:We,forceMobile:!0},parameters:{viewport:{defaultViewport:"mobile"}}};de.parameters={...de.parameters,docs:{...de.parameters?.docs,source:{originalSource:`{
  args: {
    initialPreferences: lightEn,
    forceMobile: false
  },
  parameters: {
    viewport: {
      defaultViewport: 'desktop'
    }
  }
}`,...de.parameters?.docs?.source}}};pe.parameters={...pe.parameters,docs:{...pe.parameters?.docs,source:{originalSource:`{
  args: {
    initialPreferences: lightEn,
    forceMobile: true
  },
  parameters: {
    viewport: {
      defaultViewport: 'mobile'
    }
  }
}`,...pe.parameters?.docs?.source}}};const lo=["Desktop","Mobile"];export{de as Desktop,pe as Mobile,lo as __namedExportsOrder,co as default};
