import{r as u,i as D,j as f,l as L,h as _,t as B}from"./iframe-BRX_71o6.js";import{s as I,r as G}from"./styled-Dgl-pF-t.js";import{I as H}from"./IconButton-Dqcwngt5.js";import{T as R,t as V}from"./Typography-Be_hpmmL.js";import{u as Z}from"./useTheme-D9Extguz.js";import{A as J}from"./Avatar-DHwaxaac.js";import{L as P,b as Q}from"./Menu-DcYQ44pu.js";import{c as j,m as O}from"./memoTheme-BlWuTX7k.js";import{g as W,a as E}from"./generateUtilityClasses-CoM_PQv9.js";import{u as X}from"./useForkRef-C5tm8CUz.js";import{B as Y}from"./ButtonBase-cafSKK66.js";import{u as N}from"./useSlot-B3TPH8by.js";function ee(e){return E("MuiDivider",e)}const U=W("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),te=e=>{const{absolute:t,children:o,classes:n,flexItem:p,light:g,orientation:r,textAlign:l,variant:i}=e;return j({root:["root",t&&"absolute",i,g&&"light",r==="vertical"&&"vertical",p&&"flexItem",o&&"withChildren",o&&r==="vertical"&&"withChildrenVertical",l==="right"&&r!=="vertical"&&"textAlignRight",l==="left"&&r!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",r==="vertical"&&"wrapperVertical"]},ee,n)},oe=I("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(O(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),re=I("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(O(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),F=u.forwardRef(function(t,o){const n=D({props:t,name:"MuiDivider"}),{absolute:p=!1,children:g,className:r,orientation:l="horizontal",component:i=g||l==="vertical"?"div":"hr",flexItem:x=!1,light:y=!1,role:d=i!=="hr"?"separator":void 0,textAlign:w="center",variant:C="fullWidth",...h}=n,c={...n,absolute:p,component:i,flexItem:x,light:y,orientation:l,role:d,textAlign:w,variant:C},v=te(c);return f.jsx(oe,{as:i,className:L(v.root,r),role:d,ref:o,ownerState:c,"aria-orientation":d==="separator"&&(i!=="hr"||l==="vertical")?l:void 0,...h,children:g?f.jsx(re,{className:v.wrapper,ownerState:c,children:g}):null})});F&&(F.muiSkipListHighlight=!0);function ie(e){return E("MuiListItemIcon",e)}const q=W("MuiListItemIcon",["root","alignItemsFlexStart"]),ae=e=>{const{alignItems:t,classes:o}=e;return j({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},ie,o)},ne=I("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(O(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),se=u.forwardRef(function(t,o){const n=D({props:t,name:"MuiListItemIcon"}),{className:p,...g}=n,r=u.useContext(P),l={...n,alignItems:r.alignItems},i=ae(l);return f.jsx(ne,{className:L(i.root,p),ownerState:l,ref:o,...g})});function le(e){return E("MuiListItemText",e)}const $=W("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),de=e=>{const{classes:t,inset:o,primary:n,secondary:p,dense:g}=e;return j({root:["root",o&&"inset",g&&"dense",n&&p&&"multiline"],primary:["primary"],secondary:["secondary"]},le,t)},ce=I("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${$.primary}`]:t.primary},{[`& .${$.secondary}`]:t.secondary},t.root,o.inset&&t.inset,o.primary&&o.secondary&&t.multiline,o.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${V.root}:where(& .${$.primary})`]:{display:"block"},[`.${V.root}:where(& .${$.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),pe=u.forwardRef(function(t,o){const n=D({props:t,name:"MuiListItemText"}),{children:p,className:g,disableTypography:r=!1,inset:l=!1,primary:i,primaryTypographyProps:x,secondary:y,secondaryTypographyProps:d,slots:w={},slotProps:C={},...h}=n,{dense:c}=u.useContext(P);let v=i??p,a=y;const m={...n,disableTypography:r,inset:l,primary:!!v,secondary:!!a,dense:c},k=de(m),b={slots:w,slotProps:{primary:x,secondary:d,...C}},[s,M]=N("root",{className:L(k.root,g),elementType:ce,externalForwardedProps:{...b,...h},ownerState:m,ref:o}),[T,S]=N("primary",{className:k.primary,elementType:R,externalForwardedProps:b,ownerState:m}),[z,K]=N("secondary",{className:k.secondary,elementType:R,externalForwardedProps:b,ownerState:m});return v!=null&&v.type!==R&&!r&&(v=f.jsx(T,{variant:c?"body2":"body1",component:S?.variant?void 0:"span",...S,children:v})),a!=null&&a.type!==R&&!r&&(a=f.jsx(z,{variant:"body2",color:"textSecondary",...K,children:a})),f.jsxs(s,{...M,children:[v,a]})});function ue(e){return E("MuiMenuItem",e)}const A=W("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ge=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},me=e=>{const{disabled:t,dense:o,divider:n,disableGutters:p,selected:g,classes:r}=e,i=j({root:["root",o&&"dense",t&&"disabled",!p&&"gutters",n&&"divider",g&&"selected"]},ue,r);return{...r,...i}},fe=I(Y,{shouldForwardProp:e=>G(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ge})(O(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${A.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${A.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}},[`&.${A.selected}:hover`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity)}},[`&.${A.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${U.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${U.inset}`]:{marginLeft:52},[`& .${$.root}`]:{marginTop:0,marginBottom:0},[`& .${$.inset}`]:{paddingLeft:36},[`& .${q.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${q.root} svg`]:{fontSize:"1.25rem"}}}]}))),ve=u.forwardRef(function(t,o){const n=D({props:t,name:"MuiMenuItem"}),{autoFocus:p=!1,component:g="li",dense:r=!1,divider:l=!1,disableGutters:i=!1,focusVisibleClassName:x,role:y="menuitem",tabIndex:d,className:w,...C}=n,h=u.useContext(P),c=u.useMemo(()=>({dense:r||h.dense||!1,disableGutters:i}),[h.dense,r,i]),v=u.useRef(null);_(()=>{p&&v.current&&v.current.focus()},[p]);const a={...n,dense:c.dense,divider:l,disableGutters:i},m=me(n),k=X(v,o);let b;return n.disabled||(b=d!==void 0?d:-1),f.jsx(P.Provider,{value:c,children:f.jsx(fe,{ref:k,role:y,tabIndex:b,component:g,focusVisibleClassName:L(m.focusVisible,x),className:L(m.root,w),...C,ownerState:a,classes:m})})}),ye=[{label:"Profile",onClick:()=>console.log("Action: Navigate to Profile"),key:"profile","data-testid":"menu-item-profile"},{label:"Account Settings",onClick:()=>console.log("Action: Open Settings"),"data-testid":"menu-item-settings",key:"settings"},{label:"Sign Out",onClick:()=>console.log("Action: Execute Logout"),key:"logout",divider:!0,"data-testid":"menu-item-logout"}],be=()=>{const[e,t]=u.useState(null),[o,n]=u.useState(-1),p=u.useRef(1),g=u.useId(),r=`${g}-avatar-trigger`,l=`${g}-avatar-menu`,i=!!e,x=i,y=u.useCallback(a=>{a?.currentTarget&&(t(a.currentTarget),n(0),typeof window<"u"&&(p.current=window.outerWidth/window.innerWidth))},[]),d=u.useCallback(()=>{t(null),n(-1)},[]),w=u.useCallback(a=>{e?d():y(a)},[e,d,y]);u.useEffect(()=>{const a=()=>{if(typeof window<"u"){const m=window.outerWidth/window.innerWidth;Math.abs(m-p.current)>.01&&i&&(p.current=m,d())}};if(typeof window<"u")return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[i,d]);const C=u.useCallback((a,m)=>{const{key:k}=a;switch(k){case"Escape":a.preventDefault(),d();break;case"ArrowDown":a.preventDefault(),n(b=>b<m-1?b+1:0);break;case"ArrowUp":a.preventDefault(),n(b=>b>0?b-1:m-1);break}},[d]),h=u.useCallback(a=>{const{key:m}=a;if(m==="Escape"&&i){d();return}(m==="Enter"||m===" ")&&!i&&(a.preventDefault(),y(a))},[i,d,y]),c=u.useCallback(a=>({id:r,"aria-controls":i?l:void 0,"aria-haspopup":"menu","aria-expanded":String(i),onClick:w,onKeyDown:h,...a}),[r,l,i,w,h]),v=u.useCallback(a=>({id:l,anchorEl:e,open:i,onClose:d,"aria-labelledby":r,...a}),[l,e,i,d,r]);return{open:i,isOpen:x,anchorEl:e,triggerId:r,menuId:l,focusedIndex:o,handleOpen:y,handleClose:d,handleToggle:w,handleKeyDown:h,handleMenuKeyDown:C,setFocusedIndex:n,getTriggerProps:c,getMenuProps:v}},he=I(H,{shouldForwardProp:e=>e!=="$fullWidth"&&e!=="$isOpen"})(e=>{const t=B.palette.mode="dark";return{borderRadius:e.theme.shape.borderRadius,padding:e.theme.spacing(1),width:e.$fullWidth?"100%":"auto",justifyContent:e.$fullWidth?"flex-end":"center",display:"flex","&:hover":{backgroundColor:t?B.palette.action.focus:B.palette.action.hover}}}),xe=I("div")(({theme:e,$fullWidth:t})=>({display:"flex",alignItems:"center",gap:e.spacing(1.125),position:"relative",width:t?"100%":"auto",justifyContent:t?"flex-end":"center"}));I(R)(({theme:e})=>({color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,[e.breakpoints.down("sm")]:{display:"none"}}));const we=I("div")(({theme:e})=>({width:e.spacing(2),height:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"})),Ie=I("div")(({theme:e,$isOpen:t})=>({width:0,height:0,borderTop:`${e.spacing(1.25)} solid ${e.palette.text.primary}`,borderLeft:`${e.spacing(.833)} solid transparent`,borderRight:`${e.spacing(.833)} solid transparent`,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.short}),transform:t?"rotate(180deg)":"rotate(0deg)",display:"inline-block",verticalAlign:"middle"})),Ce=({avatarUrl:e,username:t,menuItems:o=ye,avatarProps:n,fullWidth:p=!1,"data-testid":g="avatar-menu"})=>{const{isOpen:r,anchorEl:l,handleToggle:i,handleClose:x,menuId:y,triggerId:d,focusedIndex:w,handleMenuKeyDown:C,setFocusedIndex:h}=be(),c=Z(),a=o.filter(s=>!s.disabled).length,{sx:m,...k}=n||{},b={width:c.spacing(5.75),height:c.spacing(5.75)};return f.jsxs(f.Fragment,{children:[f.jsx(he,{id:d,"aria-label":`User menu${t?`: ${t}`:""}`,"aria-controls":r?y:void 0,"aria-haspopup":"true","aria-expanded":r?"true":"false",onClick:i,"data-testid":g,$fullWidth:p,$isOpen:r,children:f.jsxs(xe,{$fullWidth:p,children:[f.jsx(J,{src:e,alt:t||"User avatar",sx:{...b,...m},...k}),f.jsx(we,{children:f.jsx(Ie,{$isOpen:r})})]})}),f.jsx(Q,{id:y,anchorEl:l,open:r,onClose:x,disablePortal:!1,keepMounted:!1,disableScrollLock:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{sx:s=>({marginTop:s.spacing(1),padding:s.spacing(.5),zIndex:s.zIndex.modal,border:"1px solid",borderColor:s.palette.divider,backgroundColor:s.palette.background.paper,borderRadius:s.spacing(.5),boxShadow:s.shadows[3]})}},MenuListProps:{"aria-labelledby":d,onKeyDown:s=>C(s,a),autoFocus:!0,dense:!0,sx:{paddingTop:0,paddingBottom:0}},children:o.map((s,M)=>{const T=!s.disabled,S=w===M&&T;return[f.jsxs(ve,{onClick:()=>{T&&(s.onClick(),x())},onMouseEnter:()=>{T&&h(M)},disabled:s.disabled,"data-testid":s["data-testid"],autoFocus:S,...s.menuItemProps,sx:{padding:c.spacing(2),color:c.palette.text.primary,borderRadius:c.spacing(.5),"&:hover":{backgroundColor:c.palette.action.hover},"&.Mui-focusVisible":{outline:`1px solid ${c.palette.primary.main}`},...S&&{boxShadow:c.shadows[1]},transition:c.transitions.create(["all"],{duration:c.transitions.duration.shortest,easing:c.transitions.easing.easeInOut}),...s.menuItemProps?.sx},children:[s.icon&&f.jsx(se,{children:s.icon}),f.jsx(pe,{children:s.label})]},`${s.label}-${M}`),s.divider&&f.jsx(F,{},`divider-${s.label}-${M}`)]})})]})};Ce.__docgenInfo={description:"",methods:[],displayName:"AvatarMenu",props:{avatarUrl:{required:!0,tsType:{name:"string"},description:""},username:{required:!0,tsType:{name:"string"},description:""},menuItems:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  onClick: () => void;
  icon?: ReactNode;
  disabled?: boolean;
  divider?: boolean;
  'data-testid'?: string;
  menuItemProps?: Omit<MuiMenuItemProps, 'onClick'>;
  key?: 'profile' | 'settings' | 'logout' | string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}},{key:"icon",value:{name:"ReactNode",required:!1}},{key:"disabled",value:{name:"boolean",required:!1}},{key:"divider",value:{name:"boolean",required:!1}},{key:"data-testid",value:{name:"string",required:!1}},{key:"menuItemProps",value:{name:"Omit",elements:[{name:"MuiMenuItemProps"},{name:"literal",value:"'onClick'"}],raw:"Omit<MuiMenuItemProps, 'onClick'>",required:!1}},{key:"key",value:{name:"union",raw:"'profile' | 'settings' | 'logout' | string",elements:[{name:"literal",value:"'profile'"},{name:"literal",value:"'settings'"},{name:"literal",value:"'logout'"},{name:"string"}],required:!1}}]}}],raw:"AvatarMenuItemProps[]"},description:"",defaultValue:{value:`[
  {
    label: 'Profile',
    // eslint-disable-next-line no-console
    onClick: () => console.log('Action: Navigate to Profile'),
    key: 'profile',
    'data-testid': 'menu-item-profile',
  },
  {
    label: 'Account Settings',
    // eslint-disable-next-line no-console
    onClick: () => console.log('Action: Open Settings'),
    'data-testid': 'menu-item-settings',
    key: 'settings',
  },
  {
    label: 'Sign Out',
    // eslint-disable-next-line no-console
    onClick: () => console.log('Action: Execute Logout'),
    key: 'logout',
    divider: true,
    'data-testid': 'menu-item-logout',
  },
]`,computed:!1}},avatarProps:{required:!1,tsType:{name:"Omit",elements:[{name:"MuiAvatarProps"},{name:"union",raw:"'src' | 'alt'",elements:[{name:"literal",value:"'src'"},{name:"literal",value:"'alt'"}]}],raw:"Omit<MuiAvatarProps, 'src' | 'alt'>"},description:""},fullWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},"data-testid":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'avatar-menu'",computed:!1}}}};export{Ce as A,ye as D};
